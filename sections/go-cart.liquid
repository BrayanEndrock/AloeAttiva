<!--go cart modal fail-->
{%- comment -%}
<div class="go-cart__modal go-cart__modal--fail js-go-cart-modal-fail">
    <div class="go-cart-modal">
        <!--go cart modal close-->
        <div class="go-cart-modal__close js-go-cart-modal-fail-close">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <path d="M15.89 14.696l-4.734-4.734 4.717-4.717c.4-.4.37-1.085-.03-1.485s-1.085-.43-1.485-.03L9.641 8.447 4.97 3.776c-.4-.4-1.085-.37-1.485.03s-.43 1.085-.03 1.485l4.671 4.671-4.688 4.688c-.4.4-.37 1.085.03 1.485s1.085.43 1.485.03l4.688-4.687 4.734 4.734c.4.4 1.085.37 1.485-.03s.43-1.085.03-1.485z"></path>
            </svg>
        </div>
        <!--end go cart modal close-->
        <!--go cart modal content-->
        <div class="go-cart-modal__content js-go-cart-modal-fail-content">Something went wrong, please contact us!</div>
        <!--end go cart modal content-->
    </div>
</div>
{%- endcomment -%}
<!--end go cart modal fail-->

<!--go cart modal-->
<div class="go-cart__modal js-go-cart-modal">
    <div class="go-cart-modal">
        <!--go cart modal close-->
        <div class="go-cart-modal__close js-go-cart-modal-close">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <path d="M15.89 14.696l-4.734-4.734 4.717-4.717c.4-.4.37-1.085-.03-1.485s-1.085-.43-1.485-.03L9.641 8.447 4.97 3.776c-.4-.4-1.085-.37-1.485.03s-.43 1.085-.03 1.485l4.671 4.671-4.688 4.688c-.4.4-.37 1.085.03 1.485s1.085.43 1.485.03l4.688-4.687 4.734 4.734c.4.4 1.085.37 1.485-.03s.43-1.085.03-1.485z"></path>
            </svg>
        </div>
        <!--end go cart modal close-->
        <!--go cart modal content-->
        <div class="go-cart-modal__content js-go-cart-modal-content"></div>
        <!--end go cart modal content-->
        <!--go cart modal buttons-->
        <div class="go-cart-modal__buttons">
            <a class="go-cart__button js-go-cart-modal-close">Continue shopping</a>
            <a href="/cart/" class="go-cart__button">View cart</a>
        </div>
        <!--end go cart modal buttons-->
    </div>
</div>
<!--end go cart modal-->

<!--go cart drawer-->
<div class="go-cart__drawer js-go-cart-drawer">
    <div class="go-cart-drawer">
        <!--go cart drawer close-->
        <div class="go-cart-drawer__header">
            <div class="go-cart-drawer__close--wrapper">
                <div class="go-cart-drawer__close js-go-cart-drawer-close">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                        <path d="M15.89 14.696l-4.734-4.734 4.717-4.717c.4-.4.37-1.085-.03-1.485s-1.085-.43-1.485-.03L9.641 8.447 4.97 3.776c-.4-.4-1.085-.37-1.485.03s-.43 1.085-.03 1.485l4.671 4.671-4.688 4.688c-.4.4-.37 1.085.03 1.485s1.085.43 1.485.03l4.688-4.687 4.734 4.734c.4.4 1.085.37 1.485-.03s.43-1.085.03-1.485z"></path>
                    </svg>
                </div>
            </div>
            <div class="go-cart-drawer__title">
                <h3>{{ section.settings.title }}</h3>
                <a href="{{ section.settings.link }}">{{ section.settings.label }}</a>
            </div>
            <div class="go-cart-drawer__gamification">
                <div class="go-cart-drawer__gamification--wrapper">
                    <div class="gamification-container" id="freeShippingPromo">
                        You're <span class="goal"></span> away from <span>Free Shipping</span> 
                    </div>
                    <div class="gamification-container hide" id="freeShippingReached">
                        You qualify for <span>Free Shipping</span> 
                    </div>
                </div>
            </div>
            <div class="go-cart-drawer__subtitles">
                <span>Product</span>
                <span>Total</span>
            </div>
        </div>
        <!--end go cart drawer close-->

        <div class="go-cart-drawer__content--wrapper">
            <!--go cart drawer content-->
            <div class="go-cart-drawer__content js-go-cart-drawer-content"></div>
            <!--end go cart drawer content-->
            <div class="go-cart-drawer__upsell">
                {{ 'upsell-side-cart.scss.css' | asset_url | stylesheet_tag }} 
                <div class="go-cart-drawer__upsell--wrapper">
                    <h5>{{ section.settings.upsell-title }}</h5>
                    <div class="glide upsell-container">
                        <div class="glide__track" data-glide-el="track">
                            <ul class="glide__slides">
                                {%- for product in collections['best-sellers'].products -%}
                                    {% render 'upsell-card-product', card_product: product %}
					            {%- endfor -%}
                            </ul>
                        </div>
                        <div class="glide__arrows hide" data-glide-el="controls">
                            <button class="glide__arrow glide__arrow--left" data-glide-dir="<">prev</button>
                            <button class="glide__arrow glide__arrow--right" data-glide-dir=">">next</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="go-cart-drawer__order-instructions">
                <label for="Cart-note">{{ 'sections.cart.note' | t }}</label>
                <textarea class="text-area field__input" name="note" form="cart" id="Cart-note" placeholder="{{ 'sections.cart.note' | t }}">{{ cart.note }}</textarea>
            </div>
        </div>

        <!--go cart drawer subtotal-->
        <div class="go-cart-drawer__subtotal">
            <div class="subtotal--wrapper">
                <span class="sutotal-label">Subtotal</span>
                <span class="go-cart-drawer__subtotal-price js-go-cart-drawer-subtotal"></span>
            </div>
        </div>
        <!--end go cart drawer subtotal-->

        <!--go cart drawer buttons-->
        <div class="go-cart-drawer__footer js-go-cart-drawer-footer">
            <div class="tax-note">
                {%- if cart.taxes_included and shop.shipping_policy.body != blank -%}
                  {{ 'sections.cart.taxes_included_and_shipping_policy_html' | t: link: shop.shipping_policy.url }}
                {%- elsif cart.taxes_included -%}
                  {{ 'sections.cart.taxes_included_but_shipping_at_checkout' | t }}
                {%- elsif shop.shipping_policy.body != blank -%}
                  {{ 'sections.cart.taxes_and_shipping_policy_at_checkout_html' | t: link: shop.shipping_policy.url }}
                {%- else -%}
                  {{ 'sections.cart.taxes_and_shipping_at_checkout' | t }}
                {%- endif -%}
            </div>
            <a href="/checkout/" class="go-cart__button">
                Check out
            </a>
            {%- comment -%}
                <a href="/cart/" class="go-cart__button">View cart</a>
            {%- endcomment -%}
        </div>
        <!--end go cart drawer buttons-->
    </div>
</div>
<!--end go cart drawer-->
<!--go cart overlay-->
<div class="go-cart__overlay js-go-cart-overlay"></div>
<!--end go cart overlay-->

<script>
    var upsellProductSlider = new Glide('.glide', {
        type: 'carousel',
        focusAt: '1',
        startAt: 1,
        perView: 3,
        breakpoints: {
            768: { perView: 2 }
        }
    });
    upsellProductSlider.mount();
</script>

{% schema %}
    {
        "name":"Side Cart",
        "settings":[
            {
                "type": "text",
                "id": "title",
                "label": "Title",
                "default": "Your cart"
            },
            {
                "type": "text",
                "id": "label",
                "label": "CTA Label",
                "default": "Continue shopping"
            },
            {
                "type": "url",
                "id": "link",
                "label": "Link"
            },
            {
                "type": "text",
                "id": "upsell-title",
                "label": "Upsell Title",
                "default": "Recommended Products"
            }
        ]
    }
{% endschema %}

{% javascript %}
	$('').slick({
		infinite: true,
		slidesToShow: 3,
		slidesToScroll: 1,
		dots: false,
		arrows: true,
        prevArrow:"<button type='button' class='slick-prev'><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-left'><polyline points='15 18 9 12 15 6'></polyline></svg></button>",
        nextArrow:"<button type='button' class='slick-next'><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-right'><polyline points='9 18 15 12 9 6'></polyline></svg></button>",
		responsive: [
    		{
     	 		breakpoint: 768,
      			settings: {
        			slidesToShow: 3,
        			slidesToScroll: 1
      			}
    		}
  		]
	});
{% endjavascript %}
